<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Security & Safety – rich-html-editor</title>

    <meta
      name="description"
      content="Security model of rich-html-editor: iframe isolation, same-origin rules, sanitization, and safe HTML export."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
<rect width='100' height='100' rx='20' fill='%23020217'/>
<text x='50%' y='60%' text-anchor='middle'
font-size='48' fill='%2338bdf8'
font-family='Arial, Helvetica'>AP</text>
</svg>"
    />
    <!-- Shared styles -->
    <link rel="stylesheet" href="../assets/styles.css" />
  </head>

  <body>
    <!-- ================= Header ================= -->
    <header class="site-header">
      <div class="site-header-inner">
        <div>
          <div class="site-title">rich-html-editor</div>
          <div class="site-subtitle">Safe, template-driven HTML editing</div>
        </div>
        <div class="doc-search">
          <input
            id="doc-search"
            type="search"
            placeholder="Search documentation…"
            autocomplete="off"
          />
          <div id="search-results" class="search-results hidden"></div>
        </div>
        <nav class="top-nav">
          <a href="../index.html">Playground</a>
          <a href="./index.html" class="active">Documentation</a>
          <a
            href="https://github.com/akshaypatil1/rich-html-editor"
            target="_blank"
            rel="noopener"
            >GitHub</a
          >
        </nav>
      </div>
    </header>

    <!-- ================= Main Layout ================= -->
    <main class="layout">
      <!-- ========== Sidebar ========== -->
      <aside class="sidebar">
        <h4>Introduction</h4>
        <a href="./index.html">Overview</a>
        <a href="./getting-started.html">Getting Started</a>
        <a href="./concepts.html">Core Concepts</a>

        <h4>Usage</h4>
        <a href="./browser-usage.html">Browser Usage</a>
        <a href="./framework-guides.html">Framework Guides</a>

        <h4>Reference</h4>
        <a href="./api.html">API Reference</a>
        <a href="./changelog.html">Changelog</a>
        <h4>Advanced</h4>
        <a href="./security.html">Security & Safety</a>
        <a href="./faq.html">FAQ</a>
        <a href="./roadmap.html">Roadmap</a>
      </aside>

      <!-- ========== Content ========== -->
      <section class="content">
        <h1>Security & Safety</h1>

        <p>
          <strong>rich-html-editor</strong> is designed with security as a
          first-class concern. This page explains the editor’s security model,
          guarantees, and responsibilities.
        </p>

        <div class="callout">
          Security is not a feature toggle — it is a core design constraint.
        </div>

        <h2>Iframe Isolation</h2>

        <p>
          The editor operates entirely inside an
          <code>&lt;iframe&gt;</code>.
        </p>

        <ul>
          <li>Editor DOM is isolated from the host application</li>
          <li>Styles do not leak in or out</li>
          <li>Script execution is scoped to the iframe</li>
        </ul>

        <p>
          This isolation significantly reduces the risk of unintended side
          effects.
        </p>

        <h2>Same-Origin Requirement</h2>

        <div class="callout warning">
          The iframe must be same-origin with the host page.
        </div>

        <p>Same-origin access is required to:</p>

        <ul>
          <li>Attach event listeners</li>
          <li>Inspect and modify DOM safely</li>
          <li>Extract clean HTML</li>
        </ul>

        <p>
          For browser usage, <code>iframe.srcdoc</code> is strongly recommended.
        </p>

        <h2>Editable Region Control</h2>

        <p>The editor does not allow unrestricted editing.</p>

        <p>
          Only certain candidate content elements (paragraphs, headings, spans,
          etc.) become editable; users make an element editable by clicking or
          focusing it. See <a href="./concepts.html">Core Concepts</a> for
          details.
        </p>

        <pre><code>&lt;p&gt;User-editable text&lt;/p&gt;</code></pre>

        <p>This prevents users from:</p>

        <ul>
          <li>Deleting structural elements</li>
          <li>Breaking layout containers</li>
          <li>Injecting arbitrary markup</li>
        </ul>

        <h2>Sanitization & Clean HTML</h2>

        <p>
          During editing, the editor may add temporary attributes or metadata.
        </p>

        <p>When exporting HTML using:</p>

        <pre><code>editor.getHTML();</code></pre>

        <p>The editor ensures:</p>

        <ul>
          <li>Editor-specific attributes are removed</li>
          <li>Unsafe markup is stripped</li>
          <li>Output HTML is predictable and clean</li>
        </ul>

        <div class="callout">
          Exported HTML is suitable for storage, approval workflows, and
          deployment.
        </div>

        <h2>XSS Considerations</h2>

        <p>rich-html-editor minimizes XSS risk by:</p>

        <ul>
          <li>Operating in an isolated iframe</li>
          <li>Restricting editable regions</li>
          <li>Sanitizing output HTML</li>
        </ul>

        <div class="callout warning">
          If you accept user-provided HTML templates, you should still sanitize
          input before loading it into the editor.
        </div>

        <h2>What the Editor Does NOT Protect Against</h2>

        <div class="callout danger">Security is a shared responsibility.</div>

        <ul>
          <li>❌ Malicious templates provided by untrusted sources</li>
          <li>❌ Server-side HTML injection after export</li>
          <li>❌ Improper storage or rendering of exported HTML</li>
        </ul>

        <p>
          Always apply appropriate server-side validation and sanitization when
          storing or serving HTML.
        </p>

        <h2>Enterprise Usage</h2>

        <p>rich-html-editor is suitable for enterprise environments where:</p>

        <ul>
          <li>HTML integrity is critical</li>
          <li>Users are non-technical</li>
          <li>Approval workflows are required</li>
          <li>Security audits are expected</li>
        </ul>

        <h2>Next steps</h2>

        <ul>
          <li><a href="./faq.html">FAQ</a> — common security questions</li>
          <li><a href="./roadmap.html">Roadmap</a> — upcoming features</li>
        </ul>
      </section>
    </main>

    <!-- ================= Footer ================= -->
    <footer class="site-footer">© 2025 rich-html-editor · MIT License</footer>
    <script src="../assets/search.js"></script>
    <script src="../assets/nav.js"></script>
  </body>
</html>
